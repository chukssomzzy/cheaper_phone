{
    "cookies": [],
    "headers": {
        "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
        "Accept-Language": "en",
        "Cookie": "__cfruid=84281775586a1721c5409040fc7fdf8593ec0bb6-1693620893",
        "User-Agent": "Scrapy/2.10.0 (+https://scrapy.org)"
    },
    "lua_source": "\nfunction scroll_down(splash, scroll_step)\n    local scroll_height = splash:evaljs(\"document.body.scrollHeight\")\n    local scroll_position = 0\n\n    while scroll_position < scroll_height do\n        scroll_position = scroll_position + scroll_step\n        if scroll_position >= scroll_height then\n            scroll_position = scroll_height\n        end\n        splash:evaljs(string.format(\"window.scrollTo(0, %d);\", scroll_position))\n        splash:wait(1)\n    end\nend\n\nfunction main(splash)\n    local card_contents = {}\n    local entries = nil\n    local last_response = nil\n    local product_card = nil\n    local scroll_step = 200\n\n    splash:init_cookies(splash.args.cookies)\n    assert(splash:go{\n        splash.args.url,\n        headers = splash.args.headers,\n        http_method = splash.args.http_method,\n        body = splash.args.body\n    })\n    assert(splash:wait(2))\n\n    scroll_down(splash, scroll_step)\n    product_card = splash:select_all(\"._7e903_3FsI6 .lazyloaded\")\n    for _, card in ipairs(product_card) do\n        assert(card:mouse_click())\n        assert(splash:wait(1))\n        assert(splash:go(-1))\n        assert(splash:wait(2))\n        card_contents[#card_contents + 1] = splash:html()\n    end\n    entries = splash:history()\n    last_response = entries[#entries].response\n    return {\n        url = splash:url(),\n        headers = last_response.headers,\n        http_status = last_response.status,\n        cookies = splash:get_cookies(),\n        html = splash:html()\n    }\nend\n\n",
    "save_args": [
        "lua_source"
    ],
    "timeout": 3000,
    "url": "https://www.konga.com/category/phones-tablets-5294"
}